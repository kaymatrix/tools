<form method="post" action="{% url 'login' %}">
    {% csrf_token %}
    <label for="username">Username:</label>
    <input type="text" id="username" name="username" required>
    <label for="password">Password:</label>
    <input type="password" id="password" name="password" required>
    <button type="submit">Login</button>
</form>

<!DOCTYPE html>
<html>
<head>
    <title>Login</title>
</head>
<body>
    {% if error %}
        <p>{{ error }}</p>
    {% endif %}

    <form action="/login/" method="post">
        <input type="text" name="username" placeholder="Username">
        <input type="password" name="password" placeholder="Password">
        <input type="submit" value="Login">
    </form>
</body>
</html>


from django.urls import path

from .views import login

urlpatterns = [
    path("login/", login, name="login"),
]


INSTALLED_APPS = [
    ...
    "ldap3",
]

LDAP_SERVER = "ldap.example.com"
LDAP_PORT = 389
LDAP_USERNAME = "cn=admin,dc=example,dc=com"
LDAP_PASSWORD = "secret"



from django.shortcuts import render
from ldap3 import Server, Connection

def login(request):
    if request.method == "POST":
        username = request.POST["username"]
        password = request.POST["password"]

        server = Server("ldap.example.com", port=389)
        connection = Connection(server)
        connection.bind(username, password)

        if connection.is_authenticated:
            request.user = request.user._authenticate(username, password)
            return render(request, "login.html", {})
        else:
            return render(request, "login.html", {"error": "Invalid username or password"})

    else:
        return render(request, "login.html", {})
